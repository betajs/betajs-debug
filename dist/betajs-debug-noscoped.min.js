/*!
betajs-debug - v0.0.15 - 2019-04-28
Copyright (c) Oliver Friedmann
Apache-2.0 Software License.
*/

(function(){var t=this.subScope();t.binding("module","global:BetaJSDebug"),t.define("module:",function(){return{guid:"d33ed9c4-d6fc-49d4-b388-cd7b9597b63a",version:"0.0.15",datetime:1556464421035}}),t.define("module:Helpers",[],function(){return{getStackTrace:function(t){for(var e=(new Error).stack.split("\n");0<e.length&&"error"===e[0].trim().toLowerCase();)e.shift();return t?e.slice(t):e}}}),t.define("module:Hooks",[],function(){return{hookMethod:function(n,r,s,i,u){var h=r[n];return r[n]=function(){s&&s.call(u,n,r,arguments,this);var t=null,e=null;try{e=h.apply(this,arguments)}catch(o){t=o}if(i&&i.call(u,n,r,arguments,e,t,this),t)throw t;return e},{method:n,original:h,context:r}},unhookMethod:function(t){t.context[t.method]=t.original},hookMethodsArray:function(t,e,o,n,r){return t.map(function(t){return this.hookMethod(t,e,o,n,r)},this)},getContextMethodNames:function(t){var e=[];for(var o in t)if("function"==typeof t[o]){var n=!0;for(var r in t[o]){n=!1;break}if(!n)continue;e.push(o)}return e},hookMethods:function(t,e,o,n){return this.hookMethodsArray(this.getContextMethodNames(t),t,e,o,n)},unhookMethods:function(t){for(var e=0;e<t.length;++e)this.unhookMethod(t)},hookPrototypeMethod:function(t,e,o,n,r){return this.hookMethod(t,e.prototype,o,n,r)},hookPrototypeMethods:function(t,e,o,n){return this.hookMethods(t.prototype,e,o,n)}}}),t.define("module:Instances",["module:Hooks"],function(n){return{allFilter:function(){return function(){return!0}},andFilter:function(o){return function(t){for(var e=0;e<o.length;++e)if(!o[e](t))return!1;return!0}},orFilter:function(o){return function(t){for(var e=0;e<o.length;++e)if(o[e](t))return!0;return!1}},regexFilter:function(e){return function(t){return e.test(t.classname)}},ancestryFilter:function(e){return function(t){for(;t;){if(e(t))return!0;t=t.parent}return!1}},monitorInstances:function(t,i){function u(t,e,o){for(var n=t;n;)r[n.classname]||(r[n.classname]={count:0,tree:0,cids:{}}),r[n.classname].tree+=e,n===t&&(r[n.classname].count+=e,0<e?r[n.classname].cids[o]=!0:delete r[n.classname].cids[o]),0===r[n.classname].count&&0===r[n.classname].tree&&delete r[n.classname],n=n.parent}var r={},e=n.hookMethod("constructor",t.prototype,undefined,function(t,e,o,n,r,s){i(s.cls)&&u(s.cls,1,s.cid())}),o=n.hookMethod("destroy",t.prototype,function(t,e,o,n){i(n.cls)&&u(n.cls,-1,n.cid())});return{instances:r,hooks:{constructorHook:e,destroyHook:o}}},unmonitorInstances:function(t){n.unhookMethod(t.hooks.destroyHook),n.unhookMethod(t.hooks.constructorHook)},toHTMLTable:function(t){var e=[];for(var o in e.push("<table><thead><tr><th>"),e.push(["Class","Count","Tree"].join("</th><th>")),e.push("</th></thead><tbody>"),t.instances){var n=t.instances[o];e.push("<tr><td>"),e.push([o,n.count,n.tree].join("</td><td>")),e.push("</td></tr>")}return e.push("</tbody></table>"),e.join("")},toText:function(t){var e=[];for(var o in e.push(["Class","Count","Tree"].join("\t")),t.instances){var n=t.instances[o],r=[];for(cid in n.cids)r.push(cid);e.push([o,n.count,n.tree,r.join(",")].join("\t"))}return e.join("\n")}}}),t.define("module:Methods",["module:Hooks"],function(u){return{monitorInstances:function(t,r){function s(t,e){var o=i[e.cls.classname].methods;o[t]=o[t]||{count:0},o[t].count++}var i={},e=u.hookMethod("constructor",t.prototype,function(t,e,o,n){r(n.cls)&&(i[n.cls.classname]||(i[n.cls.classname]={cls:n.cls,hooks:{methods:u.hookPrototypeMethods(n.cls,s)},methods:{}}))});return{classes:i,hooks:{constructorHook:e}}},unmonitorInstances:function(t){for(var e in u.unhookMethod(t.hooks.constructorHook),t.classes){var o=t.classes[e];u.unhookMethods(o.hooks.methods)}},toHTMLTable:function(t){var e=[];for(var o in e.push("<table><thead><tr><th>"),e.push(["Class","Method","Count"].join("</th><th>")),e.push("</th></thead><tbody>"),t.classes){var n=t.classes[o];for(var r in n.methods){var s=n.methods[r];e.push("<tr><td>"),e.push([o,r,s.count].join("</td><td>")),e.push("</td></tr>")}}return e.push("</tbody></table>"),e.join("")}}}),t.define("module:Profiler",["module:Hooks","module:Timing"],function(s,t){return{createProfile:function(){return{_entered:0,_suspended:0,_time:0,_startTime:0,_totalEnterCount:0,_enterCount:0,enter:function(){this._totalEnterCount++,this._entered++,1===this._entered&&this._suspended<1&&(this._startTime=t.now(),this._enterCount++)},leave:function(){this._entered--,0===this._entered&&this._suspended<1&&(this._time+=t.now()-this._startTime)},suspend:function(){this._suspended++,0<this._entered&&1===this._suspended&&(this._time+=t.now()-this._startTime)},resume:function(){this._suspended--,0<this._entered&&0===this._suspended&&(this._startTime=t.now())},time:function(){return 0<this._entered&&this._suspended<1?t.now()-this._startTime+this._time:this._time},profile:function(){return{time:this.time(),totalEnterCount:this._totalEnterCount,enterCount:this._enterCount}}}},profilePrototypes:function(t,e){for(var o=this.createProfile(),n=0;n<t.length;++n)s.hookPrototypeMethods(t[n],o.enter,o.leave,o);for(var r=0;r<e.length;++r)s.hookPrototypeMethods(e[r],o.suspend,o.resume,o);return o},profileMethod:function(t,e){var o=this.createProfile();return{profile:o,hook:s.hookMethod(t,e,o.enter,o.leave,o)}},profilePrototypeMethod:function(t,e){var o=this.createProfile();return{profile:o,hook:s.hookPrototypeMethod(t,e,o.enter,o.leave,o)}}}}),t.define("module:Timers",["module:Hooks","module:Helpers"],function(n,i){return{hookTimers:function(){function r(t){return"number"==typeof t?t:(t.__handleCounter||(e++,t.__handleCounter=e),t.__handleCounter)}var e=0,t=null;try{t=window}catch(o){t=global}var s={intervals:{},timeouts:{},hooks:[n.hookMethod("setInterval",t,null,function(t,e,o,n){n&&(s.intervals[r(n)]={func:o[0],intv:o[1],stack:i.getStackTrace()})}),n.hookMethod("clearInterval",t,function(t,e,o){o[0]&&delete s.intervals[r(o[0])]}),n.hookMethod("setTimeout",t,null,function(t,e,o,n){n&&(s.timeouts[r(n)]={func:o[0],intv:o[1],stack:i.getStackTrace()})}),n.hookMethod("clearTimeout",t,function(t,e,o){o[0]&&delete s.timeouts[r(o[0])]})]};return s},unhookTimers:function(t){n.unhookMethods(t.hooks)},digest:function(t){return{intervals:t.intervals,timeouts:t.timeouts}}}}),t.define("module:Timing",[],function(){return{now:function(){return window.performance&&window.performance.now?performance.now():(new Date).getTime()}}})}).call(Scoped);