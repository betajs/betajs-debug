/*!
betajs-debug - v0.0.12 - 2017-01-15
Copyright (c) Oliver Friedmann
Apache-2.0 Software License.
*/
(function(){var a=this.subScope();a.binding("module","global:BetaJSDebug"),a.define("module:",function(){return{guid:"d33ed9c4-d6fc-49d4-b388-cd7b9597b63a",version:"0.0.12"}}),a.define("module:Hooks",[],function(){return{hookMethod:function(a,b,c,d,e){var f=b[a];return b[a]=function(){c&&c.call(e,a,b,arguments,this);var g=null,h=null;try{h=f.apply(this,arguments)}catch(i){g=i}if(d&&d.call(e,a,b,arguments,h,g,this),g)throw g;return h},{method:a,original:f,context:b}},unhookMethod:function(a){a.context[a.method]=a.original},hookMethods:function(a,b,c,d){var e=[];for(var f in a)if("function"==typeof a[f]){var g=!0;for(var h in a[f]){g=!1;break}if(!g)continue;e.push(this.hookMethod(f,a,b,c,d))}return e},unhookMethods:function(a){for(var b=0;b<a.length;++b)this.unhookMethod(a)},hookPrototypeMethod:function(a,b,c,d,e){return this.hookMethod(a,b.prototype,c,d,e)},hookPrototypeMethods:function(a,b,c,d){return this.hookMethods(a.prototype,b,c,d)}}}),a.define("module:Instances",["module:Hooks"],function(a){return{allFilter:function(){return function(){return!0}},andFilter:function(a){return function(b){for(var c=0;c<a.length;++c)if(!a[c](b))return!1;return!0}},orFilter:function(a){return function(b){for(var c=0;c<a.length;++c)if(a[c](b))return!0;return!1}},regexFilter:function(a){return function(b){return a.test(b.classname)}},ancestryFilter:function(a){return function(b){for(;b;){if(a(b))return!0;b=b.parent}return!1}},monitorInstances:function(b,c){var d={},e=function(a,b){for(var c=a;c;)d[c.classname]||(d[c.classname]={count:0,tree:0}),d[c.classname].tree+=b,c===a&&(d[c.classname].count+=b),0===d[c.classname].count&&0===d[c.classname].tree&&delete d[c.classname],c=c.parent},f=a.hookMethod("constructor",b.prototype,function(a,b,d,f){c(f.cls)&&e(f.cls,1)}),g=a.hookMethod("destroy",b.prototype,function(a,b,d,f){c(f.cls)&&e(f.cls,-1)});return{instances:d,hooks:{constructorHook:f,destroyHook:g}}},unmonitorInstances:function(b){a.unhookMethod(b.hooks.destroyHook),a.unhookMethod(b.hooks.constructorHook)},toHTMLTable:function(a){var b=[];b.push("<table><thead><tr><th>"),b.push(["Class","Count","Tree"].join("</th><th>")),b.push("</th></thead><tbody>");for(var c in a.instances){var d=a.instances[c];b.push("<tr><td>"),b.push([c,d.count,d.tree].join("</td><td>")),b.push("</td></tr>")}return b.push("</tbody></table>"),b.join("")}}}),a.define("module:Methods",["module:Hooks"],function(a){return{monitorInstances:function(b,c){var d={},e=function(a,b){var c=d[b.cls.classname].methods;c[a]=c[a]||{count:0},c[a].count++},f=a.hookMethod("constructor",b.prototype,function(b,f,g,h){c(h.cls)&&(d[h.cls.classname]||(d[h.cls.classname]={cls:h.cls,hooks:{methods:a.hookPrototypeMethods(h.cls,e)},methods:{}}))});return{classes:d,hooks:{constructorHook:f}}},unmonitorInstances:function(b){a.unhookMethod(b.hooks.constructorHook);for(var c in b.classes){var d=b.classes[c];a.unhookMethods(d.hooks.methods)}},toHTMLTable:function(a){var b=[];b.push("<table><thead><tr><th>"),b.push(["Class","Method","Count"].join("</th><th>")),b.push("</th></thead><tbody>");for(var c in a.classes){var d=a.classes[c];for(var e in d.methods){var f=d.methods[e];b.push("<tr><td>"),b.push([c,e,f.count].join("</td><td>")),b.push("</td></tr>")}}return b.push("</tbody></table>"),b.join("")}}}),a.define("module:Profiler",["module:Hooks","module:Timing"],function(a,b){return{createProfile:function(){return{_entered:0,_suspended:0,_time:0,_startTime:0,_totalEnterCount:0,_enterCount:0,enter:function(){this._totalEnterCount++,this._entered++,1===this._entered&&this._suspended<1&&(this._startTime=b.now(),this._enterCount++)},leave:function(){this._entered--,0===this._entered&&this._suspended<1&&(this._time+=b.now()-this._startTime)},suspend:function(){this._suspended++,this._entered>0&&1===this._suspended&&(this._time+=b.now()-this._startTime)},resume:function(){this._suspended--,this._entered>0&&0===this._suspended&&(this._startTime=b.now())},time:function(){return this._entered>0&&this._suspended<1?b.now()-this._startTime+this._time:this._time},profile:function(){return{time:this.time(),totalEnterCount:this._totalEnterCount,enterCount:this._enterCount}}}},profilePrototypes:function(b,c){for(var d=this.createProfile(),e=0;e<b.length;++e)a.hookPrototypeMethods(b[e],d.enter,d.leave,d);for(var f=0;f<c.length;++f)a.hookPrototypeMethods(c[f],d.suspend,d.resume,d);return d},profileMethod:function(b,c){var d=this.createProfile();return{profile:d,hook:a.hookMethod(b,c,d.enter,d.leave,d)}},profilePrototypeMethod:function(b,c){var d=this.createProfile();return{profile:d,hook:a.hookPrototypeMethod(b,c,d.enter,d.leave,d)}}}}),a.define("module:Timing",[],function(){return{now:function(){return window.performance&&window.performance.now?performance.now():(new Date).getTime()}}})}).call(Scoped);